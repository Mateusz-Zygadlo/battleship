(()=>{"use strict";const e=e=>{const t=document.querySelector(".gameboard");t.textContent="";for(let o=0;o<10;o++)for(let n=0;n<10;n++)if("x"==e[o][n]){const e=document.createElement("div");e.classList.add("checked"),e.dataset.row=o,e.dataset.column=n,t.appendChild(e)}else if("y"==e[o][n]){const e=document.createElement("div");e.classList.add("blocked"),e.dataset.row=o,e.dataset.column=n,t.appendChild(e)}else{const e=document.createElement("div");e.classList.add("gameField"),e.dataset.row=o,e.dataset.column=n,t.appendChild(e)}},t=e=>{const t=document.querySelector(".ships");t.textContent="";for(let o=0;o<e.length;o++)if(1==e[o].land);else{const n=document.createElement("div");n.classList.add("ship"),n.dataset.id=e[o].id,n.classList.add(e[o].name),n.style.gridTemplateColumns=`repeat(${e[o].size}, 1fr)`,n.style.width=`calc(${e[o].id} * 50px)`,n.style.height="50px",n.style.backgroundColor="black",n.draggable=!0;for(let t=0;t<e[o].size;t++){const e=document.createElement("div");e.classList.add("square"),n.appendChild(e)}t.appendChild(n)}},o=[],n=e=>{let t=0;for(let o=0;o<10;o++){const o=[];for(let e=0;e<10;e++)o.push(t),t++;e.push(o)}};n(o);const i=[{name:"Destroyer",size:2,id:2,land:!1,position:[]},{name:"Submarine",size:3,id:3,land:!1,position:[]},{name:"Cruiser",size:3,id:3,land:!1,position:[]},{name:"Battleship",size:4,id:4,land:!1,position:[]},{name:"Carrier",size:5,id:5,land:!1,position:[]}],s=[{name:"Destroyer",size:2,position:[]},{name:"Submarine",size:3,position:[]},{name:"Cruiser",size:3,position:[]},{name:"Battleship",size:4,position:[]},{name:"Carrier",size:5,position:[]}];let l=[];const a=e=>{for(let t=0;t<100;t++)e.push(t)};a([]),a(l);const r=e=>"X"!==e,d=e=>"Y"!=e;let c=[];n(c),(()=>{let e=0;c.length=0,n(c);for(let o=0;o<1e3;o++){for(let e=0;e<s.length;e++)s[e].position.every(r)||(s[e].position.length=0);if(s[0].position.length&&s[1].position.length&&s[2].position.length&&s[3].position.length&&s[4].position.length){for(let t=0;t<10;t++)c[t].filter((e=>"X"==e))&&(e+=c[t].filter((e=>"X"==e)).length);return console.log(e),{computerArr:c,shipNameAndSizeComputer:s}}for(let e=0;e<s.length;e++)if(s[e].position.length>1);else{const o=(t=e,Math.floor(94*Math.random())+s[t].size);let i,l;1==o.toString().length?(i=0,l=Number(o.toString().split("")[0])):(i=Number(o.toString().split("")[0]),l=Number(o.toString().split("")[1]));const a=c[i].findIndex((e=>e==o));if(a>0&&a-s[e].size>=0){for(let t=0;t<s[e].size;t++)s[e].position.push(c[i][a-t]),c[i][a-t]="X";if(0==i&&0==a){c[i+1][a+1]="Y";for(let t=0;t<s[e].size;t++)c[i+1][a-t]="Y"}else if(9==i&&a>0){c[i][a-s[e].size]="Y";for(let t=0;t<s[e].size;t++)c[i-1][a-t]="Y"}else if(9==i&&0==a)c[i][a+1]="Y",c[i][a-s[e].size]="Y";else if(0==i&&a>0){c[i][a+1]="Y",c[i][a-s[e].size]="Y";for(let t=0;t<s[e].size;t++)c[i+1][a-t]="Y"}else{c[i][a+1]="Y",c[i][a-s[e].size]="Y";for(let t=0;t<s[e].size;t++)c[i+1][a-t]="Y",c[i-1][a-t]="Y"}for(let e=0;e<s.length;e++)if(!s[e].position.every(d)){for(let e=0;e<s.length;e++)s[e].position.length=0;c.length=0,n(c),console.log(!1);break}console.log(s)}}}var t})();const p=[];n(p);let m,g=0;(()=>{for(let e=0;e<1e3;e++)for(let e=0;e<s.length;e++)for(let t=0;t<s[e].position.length;t++){let o,n;1==s[e].position[t].toString().split("").length?(o=0,n=s[e].position[t].toString().split("")[0]):(o=s[e].position[t].toString().split("")[0],n=s[e].position[t].toString().split("")[1]),g++,p[o][n]="X"}})(),console.log(p,g),e(o),t(i),document.addEventListener("dragstart",(e=>{m=e.target,e.target.style.opacity=.3}),!1),document.addEventListener("dragend",(e=>{e.target.style.opacity="",e.target.dataset.row=e.target.firstChild.dataset.row,e.target.dataset.column=e.target.firstChild.dataset.column}),!1),document.addEventListener("dragover",(e=>{e.preventDefault()}),!1),document.addEventListener("dragenter",(e=>{"gameField"==e.target.className&&(e.target.style.background="yellow")}),!1),document.addEventListener("dragleave",(e=>{"gameField"==e.target.className&&(e.target.style.background="")}),!1);const h=e=>{const t=document.querySelector(".shipsStatus");t.textContent="";for(let o=0;o<e.length;o++)if(e[o].name){const n=document.createElement("div");n.classList.add("ship");const i=document.createElement("div");i.classList.add("shipName"),i.textContent=e[o].name,n.appendChild(i);const s=document.createElement("div");s.classList.add("shipSize"),s.textContent=e[o].position.length,n.appendChild(s),t.appendChild(n)}},u=e=>{const t=document.querySelector(".shipsStatusTwo");t.textContent="";for(let o=0;o<e.length;o++)if(e[o].name){const n=document.createElement("div");n.classList.add("ship");const i=document.createElement("div");i.classList.add("shipName"),i.textContent=e[o].name,n.appendChild(i);const s=document.createElement("div");s.classList.add("shipSize"),s.textContent=e[o].position.length,n.appendChild(s),t.appendChild(n)}};document.addEventListener("drop",(n=>{if(n.preventDefault(),"gameField"==n.target.className){n.target.style.background="",n.target.appendChild(m);let s=n.target.dataset.row+n.target.dataset.column,l=Number(s);for(let e=0;e<s.split("").length;e++)0==s.split("")[0]&&(s=s.split("")[1]);const a=n.target.firstChild.className.split(" ")[1];let r,d;for(let e=0;e<i.length;e++)i[e].name==a&&(r=i[e].size,d=e);const c=l,p=l+r-1,g=[];for(let e=c;e<=p;e++)g.push(e);t(i),((e,t,o,n,i,s)=>{for(let n=0;n<e.length;n++)if(e[n].includes(t))return!!e[n].includes(o)&&(s[i].land=!0,!0)})(o,c,p,0,d,i)?(n.target.style.background="",n.target.appendChild(m),m.parentNode.removeChild(m),((e,t,o,n,i,s)=>{for(let l=0;l<e.length;l++)for(let a=0;a<e[l].length;a++)if(e[l][a]==t)if(0==e[l][a]){for(let t=0;t<o;t++)s[n].position.push(e[l][a+t]),e[l][a+t]="x";e[l+1][a]="y";for(let t=0;t<o;t++)e[l+1][a+t]="y";e[l][a+o]="y"}else if(e[l][a]==e[0][a]){for(let t=0;t<o;t++)s[n].position.push(e[l][a+t]),e[l][a+t]="x";e[l+1][a]="y";for(let t=0;t<o;t++)e[l+1][a+t]="y";e[l][t-1]="y",e[l][i+1]="y"}else if(e[l][a]==e[9][a]&&0!=a){for(let t=0;t<o;t++)s[n].position.push(e[l][a+t]),e[l][a+t]="x";for(let t=0;t<o;t++)e[l-1][a+t]="y";e[l][o+a]="y",e[l][a-1]="y"}else if(e[l][a]==e[9][a]){for(let t=0;t<o;t++)s[n].position.push(e[l][a+t]),e[l][a+t]="x";for(let t=0;t<o;t++)e[l-1][a+t]="y";e[l][o]="y"}else{for(let t=0;t<o;t++)s[n].position.push(e[l][a+t]),e[l][a+t]="x";e[l+1][a]="y",e[l-1][a]="y",e[l][a-1]="y",e[l][a+o]="y";for(let t=0;t<o;t++)e[l+1][a+t]="y",e[l-1][a+t]="y"}})(o,c,r,d,p,i)):(n.target.style.background="",m.parentNode.removeChild(m),i[d].land=!1,t(i),e(o)),t(i)}e(o),(e=>{let t=0;for(let o=0;o<e.length;o++)e[o].position.length&&t++;return 5==t})(i)&&f()}),!1);const f=()=>{const e=document.querySelector(".ships");e.parentNode.removeChild(e);const t=document.createElement("div");t.classList.add("computerGameBoard"),document.querySelector(".gameBoardComputer").appendChild(t),(e=>{const t=document.querySelector(".computerGameBoard");t.textContent="";for(let o=0;o<10;o++)for(let n=0;n<10;n++)if("X"==e[o][n]){const e=document.createElement("div");e.classList.add("plays"),e.dataset.row=o,e.dataset.column=n,t.appendChild(e)}else if("Y"==e[o][n]){const e=document.createElement("div");e.classList.add("blocked"),e.dataset.row=o,e.dataset.column=n,t.appendChild(e)}else{const e=document.createElement("div");e.classList.add("field"),e.dataset.row=o,e.dataset.column=n,t.appendChild(e)}})(p);const o=[...document.querySelector(".computerGameBoard").childNodes];h(i),u(s),o.forEach((e=>{e.addEventListener("click",(e=>{if(e.target.classList.contains("plays")){let t=[];const o=Number(String(e.target.dataset.row)+String(e.target.dataset.column));for(let e=0;e<s.length;e++)for(let t=0;t<s[e].position.length;t++)s[e].position[t]==o&&s[e].position.splice(t,1);e.target.classList.add("field"),e.target.classList.remove("plays");for(let e=0;e<s.length;e++)0==s[e].position.length&&t.push("true");if(5==t.length)return void C("you, [player]")}y(),h(i),u(s)}))}))},y=()=>{for(let e=0;e<1e3;e++){const e=Math.floor(99*Math.random());let t,o;if(l.findIndex((t=>t==e))>-1){let n=l.findIndex((t=>t==e));1==e.toString().split("").length?(t=0,o=Number(e.toString().split("")[0])):(t=Number(e.toString().split("")[0]),o=Number(e.toString().split("")[1]));let s=l.splice(n,1);if(s){for(let e=0;e<i.length;e++)for(let t=0;t<i[e].position.length;t++)if(i[e].position[t]==s){let o=[];i[e].position.splice(t,1);for(let e=0;e<i.length;e++)0==i[e].position.length&&o.push("true");return 5==o.length?void C("computer"):void 0}let e=[];for(let t=0;t<i.length;t++)for(let o=0;o<i[t].position.length;o++)e.push(i[t].position[o]);return void console.log("You not blow",l.length,e.length)}}}},C=e=>{const t=document.querySelector(".game"),o=document.createElement("div");o.classList.add("fixedWinnerPage");const n=document.createElement("h1");n.textContent=`The winner is [${e}]`,o.appendChild(n),t.appendChild(o)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxHQUFHUyxFQUFnQlYsR0FBRzhCLFNBQVM3QixJQUFNK0csRUFBWSxDQUM3QyxJQUFJVCxFQUFpQixHQUNyQjdGLEVBQWdCVixHQUFHOEIsU0FBUzRFLE9BQU96RyxFQUFHLEdBRXRDLElBQUksSUFBSXlDLEVBQUksRUFBR0EsRUFBSWhDLEVBQWdCRSxPQUFROEIsSUFDRSxHQUF0Q2hDLEVBQWdCZ0MsR0FBR1osU0FBU2xCLFFBQzNCMkYsRUFBZTFFLEtBQUssUUFJNUIsT0FBNEIsR0FBekIwRSxFQUFlM0YsWUFDZGdHLEVBQVcsaUJBSWYsRUFLWixJQUFJSyxFQUFvQixHQUV4QixJQUFJLElBQUkxRSxFQUFJLEVBQUdBLEVBQUk3QixFQUFnQkUsT0FBUTJCLElBQ3ZDLElBQUksSUFBSW1CLEVBQUksRUFBR0EsRUFBSWhELEVBQWdCNkIsR0FBR1QsU0FBU2xCLE9BQVE4QyxJQUNuRHVELEVBQWtCcEYsS0FBS25CLEVBQWdCNkIsR0FBR1QsU0FBUzRCLElBTTNELFlBRkFkLFFBQVFDLElBQUksZUFBZ0JiLEVBQW9CcEIsT0FBUXFHLEVBQWtCckcsWUFRcEZnRyxFQUFjTSxJQUNoQixNQUFNQyxFQUFPdEgsU0FBU0MsY0FBYyxTQUU5QnNILEVBQWtCdkgsU0FBU00sY0FBYyxPQUMvQ2lILEVBQWdCaEgsVUFBVUMsSUFBSSxtQkFFOUIsTUFBTWdILEVBQUt4SCxTQUFTTSxjQUFjLE1BQ2xDa0gsRUFBR3RILFlBQWMsa0JBQWtCbUgsS0FFbkNFLEVBQWdCM0csWUFBWTRHLEdBRTVCRixFQUFLMUcsWUFBWTJHLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvZ2FtZUJvYXJkRmllbGRzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9jcmVhdGVTaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jb21wb25lbnRzL2lzVHJ1ZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvYWRkWUluQXJyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9jb21wdXRlckdhbWVCb2FyZEZpZWxkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdhbWVCb2FyZEZpZWxkcyA9IChnYW1lRmllbGRzQXJyKSA9PiB7XHJcbiAgICBjb25zdCBnYW1lQm9hcmRDbGFzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lYm9hcmQnKTtcclxuXHJcbiAgICBnYW1lQm9hcmRDbGFzcy50ZXh0Q29udGVudCA9ICcnO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKXtcclxuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgMTA7IGorKyl7XHJcbiAgICAgICAgICAgIGlmKGdhbWVGaWVsZHNBcnJbaV1bal0gPT0gJ3gnKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZUZpZWxkLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgIGdhbWVGaWVsZC5kYXRhc2V0LnJvdyA9IGk7XHJcbiAgICAgICAgICAgICAgICBnYW1lRmllbGQuZGF0YXNldC5jb2x1bW4gPSBqO1xyXG5cclxuICAgICAgICAgICAgICAgIGdhbWVCb2FyZENsYXNzLmFwcGVuZENoaWxkKGdhbWVGaWVsZCk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGdhbWVGaWVsZHNBcnJbaV1bal0gPT0gJ3knKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZUZpZWxkLmNsYXNzTGlzdC5hZGQoJ2Jsb2NrZWQnKTtcclxuICAgICAgICAgICAgICAgIGdhbWVGaWVsZC5kYXRhc2V0LnJvdyA9IGk7XHJcbiAgICAgICAgICAgICAgICBnYW1lRmllbGQuZGF0YXNldC5jb2x1bW4gPSBqO1xyXG5cclxuICAgICAgICAgICAgICAgIGdhbWVCb2FyZENsYXNzLmFwcGVuZENoaWxkKGdhbWVGaWVsZCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZUZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBnYW1lRmllbGQuY2xhc3NMaXN0LmFkZCgnZ2FtZUZpZWxkJyk7XHJcbiAgICAgICAgICAgICAgICBnYW1lRmllbGQuZGF0YXNldC5yb3cgPSBpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZUZpZWxkLmRhdGFzZXQuY29sdW1uID0gajtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZ2FtZUJvYXJkQ2xhc3MuYXBwZW5kQ2hpbGQoZ2FtZUZpZWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2FtZUJvYXJkRmllbGRzOyIsImNvbnN0IGNyZWF0ZVNoaXAgPSAoc2hpcE5hbWVBbmRTaXplKSA9PiB7XHJcbiAgICBjb25zdCBzaGlwc0NsYXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNoaXBzJyk7XHJcblxyXG4gICAgc2hpcHNDbGFzcy50ZXh0Q29udGVudCA9ICcnO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzaGlwTmFtZUFuZFNpemUubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGlmKHNoaXBOYW1lQW5kU2l6ZVtpXS5sYW5kID09IHRydWUpe1xyXG5cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgY29uc3Qgc2hpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBzaGlwLmNsYXNzTGlzdC5hZGQoJ3NoaXAnKTtcclxuICAgICAgICAgICAgc2hpcC5kYXRhc2V0LmlkID0gc2hpcE5hbWVBbmRTaXplW2ldLmlkO1xyXG4gICAgICAgICAgICBzaGlwLmNsYXNzTGlzdC5hZGQoc2hpcE5hbWVBbmRTaXplW2ldLm5hbWUpO1xyXG4gICAgICAgICAgICBzaGlwLnN0eWxlLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBgcmVwZWF0KCR7c2hpcE5hbWVBbmRTaXplW2ldLnNpemV9LCAxZnIpYDtcclxuICAgICAgICAgICAgc2hpcC5zdHlsZS53aWR0aCA9IGBjYWxjKCR7c2hpcE5hbWVBbmRTaXplW2ldLmlkfSAqIDUwcHgpYDtcclxuICAgICAgICAgICAgc2hpcC5zdHlsZS5oZWlnaHQgPSAnNTBweCc7XHJcbiAgICAgICAgICAgIHNoaXAuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2JsYWNrJzsgXHJcbiAgICAgICAgICAgIHNoaXAuZHJhZ2dhYmxlID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgc2hpcE5hbWVBbmRTaXplW2ldLnNpemU7IGorKyl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcXVhcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIHNxdWFyZS5jbGFzc0xpc3QuYWRkKCdzcXVhcmUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzaGlwLmFwcGVuZENoaWxkKHNxdWFyZSk7XHJcbiAgICAgICAgICAgIH0gICBcclxuXHJcbiAgICAgICAgICAgIHNoaXBzQ2xhc3MuYXBwZW5kQ2hpbGQoc2hpcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVTaGlwOyIsImltcG9ydCBnYW1lQm9hcmRGaWVsZHMgZnJvbSBcIi4vY29tcG9uZW50cy9nYW1lQm9hcmRGaWVsZHNcIjtcclxuaW1wb3J0IGNyZWF0ZVNoaXAgZnJvbSBcIi4vY29tcG9uZW50cy9jcmVhdGVTaGlwXCI7XHJcbmltcG9ydCBjb21wdXRlckdhbWVCb2FyZEZpZWxkIGZyb20gXCIuL2NvbXBvbmVudHMvY29tcHV0ZXJHYW1lQm9hcmRGaWVsZFwiO1xyXG5pbXBvcnQgYWRkWUluQXJyIGZyb20gXCIuL2NvbXBvbmVudHMvYWRkWUluQXJyXCI7XHJcbmltcG9ydCBpc1RydWUgZnJvbSBcIi4vY29tcG9uZW50cy9pc1RydWVcIjtcclxuXHJcbmNvbnN0IGdhbWVGaWVsZHNBcnIgPSBbXTtcclxuXHJcbmNvbnN0IGFkZENvdW50SW5UZW5BcnIgPSAoYXJyKSA9PiB7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKXtcclxuICAgICAgICBjb25zdCBuZXdBcnIgPSBbXTtcclxuICAgIFxyXG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCAxMDsgaisrKXtcclxuICAgICAgICAgICAgbmV3QXJyLnB1c2goY291bnQpO1xyXG4gICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcnIucHVzaChuZXdBcnIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5hZGRDb3VudEluVGVuQXJyKGdhbWVGaWVsZHNBcnIpO1xyXG5cclxuY29uc3Qgc2hpcE5hbWVBbmRTaXplID0gW1xyXG4gICAge25hbWU6ICdEZXN0cm95ZXInLCBzaXplOiAyLCBpZDogMiwgbGFuZDogZmFsc2UsIHBvc2l0aW9uOiBbXX0sXHJcbiAgICB7bmFtZTogJ1N1Ym1hcmluZScsIHNpemU6IDMsIGlkOiAzLCBsYW5kOiBmYWxzZSwgcG9zaXRpb246IFtdfSxcclxuICAgIHtuYW1lOiAnQ3J1aXNlcicsIHNpemU6IDMsIGlkOiAzLCBsYW5kOiBmYWxzZSwgcG9zaXRpb246IFtdfSxcclxuICAgIHtuYW1lOiAnQmF0dGxlc2hpcCcsIHNpemU6IDQsIGlkOiA0LCBsYW5kOiBmYWxzZSwgcG9zaXRpb246IFtdfSxcclxuICAgIHtuYW1lOiAnQ2FycmllcicsIHNpemU6IDUsIGlkOiA1LCBsYW5kOiBmYWxzZSwgcG9zaXRpb246IFtdfSxcclxuXVxyXG5cclxuY29uc3Qgc2hpcE5hbWVBbmRTaXplQ29tcHV0ZXIgPSBbXHJcbiAgICB7bmFtZTogJ0Rlc3Ryb3llcicsIHNpemU6IDIsIHBvc2l0aW9uOiBbXX0sXHJcbiAgICB7bmFtZTogJ1N1Ym1hcmluZScsIHNpemU6IDMsIHBvc2l0aW9uOiBbXX0sXHJcbiAgICB7bmFtZTogJ0NydWlzZXInLCBzaXplOiAzLCBwb3NpdGlvbjogW119LFxyXG4gICAge25hbWU6ICdCYXR0bGVzaGlwJywgc2l6ZTogNCwgcG9zaXRpb246IFtdfSxcclxuICAgIHtuYW1lOiAnQ2FycmllcicsIHNpemU6IDUsIHBvc2l0aW9uOiBbXX0sXHJcbl1cclxuXHJcbmxldCBjb21wdXRlclBsYXlzUmFuZG9tID0gW107XHJcbmxldCBwbGF5ZXJJbmRleFBsYXlzID0gW107XHJcblxyXG5jb25zdCBhZGRIdW5kcmVkTnVtYmVycyA9IChhcnIpID0+IHtcclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKyl7XHJcbiAgICAgICAgYXJyLnB1c2goaSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFkZEh1bmRyZWROdW1iZXJzKHBsYXllckluZGV4UGxheXMpO1xyXG5hZGRIdW5kcmVkTnVtYmVycyhjb21wdXRlclBsYXlzUmFuZG9tKTtcclxuXHJcbmNvbnN0IHRydWVPckZhbHNlID0gKGl0ZW0pID0+IHtcclxuICAgIHJldHVybiBpdGVtICE9PSAnWCc7XHJcbn1cclxuXHJcbmNvbnN0IG5vdFkgPSAoaXRlbSkgPT4ge1xyXG4gICAgcmV0dXJuIGl0ZW0gIT0gJ1knO1xyXG59XHJcblxyXG5sZXQgY29tcHV0ZXJBcnIgPSBbXTtcclxuXHJcbmFkZENvdW50SW5UZW5BcnIoY29tcHV0ZXJBcnIpO1xyXG5cclxuY29uc3QgcmFuZG9tUG9zaXRpb24gPSAobnVtKSA9PiB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTQpICsgc2hpcE5hbWVBbmRTaXplQ29tcHV0ZXJbbnVtXS5zaXplO1xyXG59XHJcblxyXG5jb25zdCBjb21wdXRlciA9ICgpID0+IHtcclxuICAgIGxldCBjb3VudEFyciA9IDA7XHJcbiAgICBjb21wdXRlckFyci5sZW5ndGggPSAwO1xyXG5cclxuICAgIGFkZENvdW50SW5UZW5BcnIoY29tcHV0ZXJBcnIpO1xyXG5cclxuICAgIGZvcihsZXQgYiA9IDA7IGIgPCAxMDAwOyBiKyspe1xyXG4gICAgICAgIGZvcihsZXQgeCA9IDA7IHggPCBzaGlwTmFtZUFuZFNpemVDb21wdXRlci5sZW5ndGg7IHgrKyl7XHJcbiAgICAgICAgICAgIGlmKHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW3hdLnBvc2l0aW9uLmV2ZXJ5KHRydWVPckZhbHNlKSl7XHJcblxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW3hdLnBvc2l0aW9uLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyWzBdLnBvc2l0aW9uLmxlbmd0aCAmJiBzaGlwTmFtZUFuZFNpemVDb21wdXRlclsxXS5wb3NpdGlvbi5sZW5ndGggJiYgc2hpcE5hbWVBbmRTaXplQ29tcHV0ZXJbMl0ucG9zaXRpb24ubGVuZ3RoICYmIHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyWzNdLnBvc2l0aW9uLmxlbmd0aCAmJiBzaGlwTmFtZUFuZFNpemVDb21wdXRlcls0XS5wb3NpdGlvbi5sZW5ndGgpe1xyXG4gICAgICAgICAgICBmb3IobGV0IG8gPSAwOyBvIDwgMTA7IG8rKyl7XHJcbiAgICAgICAgICAgICAgICBpZihjb21wdXRlckFycltvXS5maWx0ZXIoaXRlbSA9PiAgaXRlbSA9PSAnWCcpKXtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudEFyciArPSBjb21wdXRlckFycltvXS5maWx0ZXIoaXRlbSA9PiBpdGVtID09ICdYJykubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb3VudEFycik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZXJBcnIsXHJcbiAgICAgICAgICAgICAgICBzaGlwTmFtZUFuZFNpemVDb21wdXRlcixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW2ldLnBvc2l0aW9uLmxlbmd0aCA+IDEpe1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhbmRvbVBvc2l0aW9uKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbHVtbjtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZS50b1N0cmluZygpLmxlbmd0aCA9PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gTnVtYmVyKHZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoJycpWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93ID0gTnVtYmVyKHZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoJycpWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gTnVtYmVyKHZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoJycpWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluZEluZGV4Q29tcHV0ZXIgPSBjb21wdXRlckFycltyb3ddLmZpbmRJbmRleChpdGVtID0+IGl0ZW0gPT0gdmFsdWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZpbmRJbmRleENvbXB1dGVyID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZpbmRJbmRleENvbXB1dGVyIC0gc2hpcE5hbWVBbmRTaXplQ29tcHV0ZXJbaV0uc2l6ZSA+PSAwKXsgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW2ldLnNpemU7IGorKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpcE5hbWVBbmRTaXplQ29tcHV0ZXJbaV0ucG9zaXRpb24ucHVzaChjb21wdXRlckFycltyb3ddW2ZpbmRJbmRleENvbXB1dGVyIC0gal0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVyQXJyW3Jvd11bZmluZEluZGV4Q29tcHV0ZXIgLSBqXSA9ICdYJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJvdyA9PSAwICYmIGZpbmRJbmRleENvbXB1dGVyID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVyQXJyW3JvdyArIDFdW2ZpbmRJbmRleENvbXB1dGVyICsgMV0gPSAnWSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBxID0gMDsgcSA8IHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW2ldLnNpemU7IHErKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVyQXJyW3JvdyArIDFdW2ZpbmRJbmRleENvbXB1dGVyIC0gcV0gPSAnWSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocm93ID09IDkgJiYgZmluZEluZGV4Q29tcHV0ZXIgPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlckFycltyb3ddW2ZpbmRJbmRleENvbXB1dGVyIC0gc2hpcE5hbWVBbmRTaXplQ29tcHV0ZXJbaV0uc2l6ZV0gPSAnWSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBxID0gMDsgcSA8IHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW2ldLnNpemU7IHErKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVyQXJyW3JvdyAtIDFdW2ZpbmRJbmRleENvbXB1dGVyIC0gcV0gPSAnWSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocm93ID09IDkgJiYgZmluZEluZGV4Q29tcHV0ZXIgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXJBcnJbcm93XVtmaW5kSW5kZXhDb21wdXRlciArIDFdID0gJ1knO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVyQXJyW3Jvd11bZmluZEluZGV4Q29tcHV0ZXIgLSBzaGlwTmFtZUFuZFNpemVDb21wdXRlcltpXS5zaXplXSA9ICdZJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHJvdyA9PSAwICYmIGZpbmRJbmRleENvbXB1dGVyID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXJBcnJbcm93XVtmaW5kSW5kZXhDb21wdXRlciArIDFdID0gJ1knO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVyQXJyW3Jvd11bZmluZEluZGV4Q29tcHV0ZXIgLSBzaGlwTmFtZUFuZFNpemVDb21wdXRlcltpXS5zaXplXSA9ICdZJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHEgPSAwOyBxIDwgc2hpcE5hbWVBbmRTaXplQ29tcHV0ZXJbaV0uc2l6ZTsgcSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXJBcnJbcm93ICsgMV1bZmluZEluZGV4Q29tcHV0ZXIgLSBxXSA9ICdZJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlckFycltyb3ddW2ZpbmRJbmRleENvbXB1dGVyICsgMV0gPSAnWSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXJBcnJbcm93XVtmaW5kSW5kZXhDb21wdXRlciAtIHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW2ldLnNpemVdID0gJ1knO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgcSA9IDA7IHEgPCBzaGlwTmFtZUFuZFNpemVDb21wdXRlcltpXS5zaXplOyBxKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlckFycltyb3cgKyAxXVtmaW5kSW5kZXhDb21wdXRlciAtIHFdID0gJ1knO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlckFycltyb3cgLSAxXVtmaW5kSW5kZXhDb21wdXRlciAtIHFdID0gJ1knO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgZSA9IDA7IGUgPCBzaGlwTmFtZUFuZFNpemVDb21wdXRlci5sZW5ndGg7IGUrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW2VdLnBvc2l0aW9uLmV2ZXJ5KG5vdFkpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBjID0gMDsgYyA8IHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyLmxlbmd0aDsgYysrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW2NdLnBvc2l0aW9uLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXJBcnIubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ291bnRJblRlbkFycihjb21wdXRlckFycik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzaGlwTmFtZUFuZFNpemVDb21wdXRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29tcHV0ZXIoKTtcclxuXHJcbmNvbnN0IGNvcHB5Q29tcHV0ZXJBcnIgPSBbXTtcclxuXHJcbmFkZENvdW50SW5UZW5BcnIoY29wcHlDb21wdXRlckFycik7XHJcblxyXG5sZXQgY291bnRDb21wdXRlckNvcHB5ID0gMDtcclxuXHJcbmNvbnN0IGNvbXB1dGVyQXJyVHdvID0gKCkgPT4ge1xyXG4gICAgZm9yKGxldCBoID0gMDsgaCA8IDEwMDA7IGgrKyl7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW2ldLnBvc2l0aW9uLmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IHJvdztcclxuICAgICAgICAgICAgICAgIGxldCBjb2x1bW47XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihzaGlwTmFtZUFuZFNpemVDb21wdXRlcltpXS5wb3NpdGlvbltqXS50b1N0cmluZygpLnNwbGl0KCcnKS5sZW5ndGggPT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBzaGlwTmFtZUFuZFNpemVDb21wdXRlcltpXS5wb3NpdGlvbltqXS50b1N0cmluZygpLnNwbGl0KCcnKVswXTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdyA9IHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW2ldLnBvc2l0aW9uW2pdLnRvU3RyaW5nKCkuc3BsaXQoJycpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW2ldLnBvc2l0aW9uW2pdLnRvU3RyaW5nKCkuc3BsaXQoJycpWzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY291bnRDb21wdXRlckNvcHB5Kys7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGNvcHB5Q29tcHV0ZXJBcnJbcm93XVtjb2x1bW5dID0gJ1gnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jb21wdXRlckFyclR3bygpO1xyXG5cclxuY29uc29sZS5sb2coY29wcHlDb21wdXRlckFyciwgY291bnRDb21wdXRlckNvcHB5KTtcclxuXHJcbmNvbnN0IHNoaXAgPSAoYm9keUxlbmd0aCwgd2hlcmVIaXRzLCBzdW5rKSA9PiB7XHJcbiAgICBcclxuICAgIHJldHVybntcclxuICAgICAgICBib2R5TGVuZ3RoLFxyXG4gICAgICAgIHdoZXJlSGl0cyxcclxuICAgICAgICBzdW5rLFxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBoaXQgPSAoaGl0UG9zaXRpb24pID0+IHtcclxuICAgIFxyXG4gICAgcmV0dXJue1xyXG4gICAgICAgIGhpdFBvc2l0aW9uLFxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBpc1N1bmsgPSAoYm9keUxlbmd0aCkgPT4ge1xyXG4gICAgY29uc3QgaGl0cyA9IGJvZHlMZW5ndGggLSBzaGlwKCkuc3VuaztcclxuXHJcbiAgICBpZihoaXRzID09IDApe1xyXG4gICAgICAgIHJldHVybiAnc2hpcCBpcyBzdW5rJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaGl0cztcclxufVxyXG5cclxubGV0IGRyYWdnZWQ7XHJcblxyXG5nYW1lQm9hcmRGaWVsZHMoZ2FtZUZpZWxkc0Fycik7XHJcbmNyZWF0ZVNoaXAoc2hpcE5hbWVBbmRTaXplKTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgKGUpID0+IHtcclxuICAgIGRyYWdnZWQgPSBlLnRhcmdldDtcclxuXHJcbiAgICBlLnRhcmdldC5zdHlsZS5vcGFjaXR5ID0gLjM7XHJcblxyXG59LCBmYWxzZSk7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VuZFwiLCAoZSkgPT4ge1xyXG4gICAgZS50YXJnZXQuc3R5bGUub3BhY2l0eSA9IFwiXCI7XHJcbiAgICBlLnRhcmdldC5kYXRhc2V0LnJvdyA9IGUudGFyZ2V0LmZpcnN0Q2hpbGQuZGF0YXNldC5yb3c7XHJcbiAgICBlLnRhcmdldC5kYXRhc2V0LmNvbHVtbiA9IGUudGFyZ2V0LmZpcnN0Q2hpbGQuZGF0YXNldC5jb2x1bW47XHJcbn0sIGZhbHNlKTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59LCBmYWxzZSk7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsIChlKSA9PiB7XHJcbiAgICBpZihlLnRhcmdldC5jbGFzc05hbWUgPT0gXCJnYW1lRmllbGRcIil7XHJcbiAgICAgICAgZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9IFwieWVsbG93XCI7XHJcbiAgICB9XHJcbn0sIGZhbHNlKTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIiwgKGUpID0+IHtcclxuICAgIGlmKGUudGFyZ2V0LmNsYXNzTmFtZSA9PSBcImdhbWVGaWVsZFwiKXtcclxuICAgICAgICBlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJcIjtcclxuICAgIH1cclxufSwgZmFsc2UpO1xyXG5cclxuY29uc3Qgc2hpcFN0YXR1c1R3byA9IChvYmopID0+IHtcclxuICAgIGNvbnN0IHNoaXBzU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNoaXBzU3RhdHVzJyk7XHJcbiAgICBzaGlwc1N0YXR1cy50ZXh0Q29udGVudCA9ICcnO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGlmKG9ialtpXS5uYW1lKXtcclxuICAgICAgICAgICAgY29uc3Qgc2hpcFN0YXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgc2hpcFN0YXQuY2xhc3NMaXN0LmFkZCgnc2hpcCcpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc2hpcE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgc2hpcE5hbWUuY2xhc3NMaXN0LmFkZCgnc2hpcE5hbWUnKTtcclxuICAgICAgICAgICAgc2hpcE5hbWUudGV4dENvbnRlbnQgPSBvYmpbaV0ubmFtZTtcclxuXHJcbiAgICAgICAgICAgIHNoaXBTdGF0LmFwcGVuZENoaWxkKHNoaXBOYW1lKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNoaXBTaXplID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHNoaXBTaXplLmNsYXNzTGlzdC5hZGQoJ3NoaXBTaXplJyk7XHJcbiAgICAgICAgICAgIHNoaXBTaXplLnRleHRDb250ZW50ID0gb2JqW2ldLnBvc2l0aW9uLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIHNoaXBTdGF0LmFwcGVuZENoaWxkKHNoaXBTaXplKTtcclxuXHJcbiAgICAgICAgICAgIHNoaXBzU3RhdHVzLmFwcGVuZENoaWxkKHNoaXBTdGF0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3Qgc2hpcFN0YXR1c0NvbXB1dGVyPSAob2JqKSA9PiB7XHJcbiAgICBjb25zdCBzaGlwc1N0YXR1c1R3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaGlwc1N0YXR1c1R3bycpO1xyXG4gICAgc2hpcHNTdGF0dXNUd28udGV4dENvbnRlbnQgPSAnJztcclxuXHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICBpZihvYmpbaV0ubmFtZSl7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoaXBTdGF0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHNoaXBTdGF0LmNsYXNzTGlzdC5hZGQoJ3NoaXAnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNoaXBOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHNoaXBOYW1lLmNsYXNzTGlzdC5hZGQoJ3NoaXBOYW1lJyk7XHJcbiAgICAgICAgICAgIHNoaXBOYW1lLnRleHRDb250ZW50ID0gb2JqW2ldLm5hbWU7XHJcblxyXG4gICAgICAgICAgICBzaGlwU3RhdC5hcHBlbmRDaGlsZChzaGlwTmFtZSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzaGlwU2l6ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBzaGlwU2l6ZS5jbGFzc0xpc3QuYWRkKCdzaGlwU2l6ZScpO1xyXG4gICAgICAgICAgICBzaGlwU2l6ZS50ZXh0Q29udGVudCA9IG9ialtpXS5wb3NpdGlvbi5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBzaGlwU3RhdC5hcHBlbmRDaGlsZChzaGlwU2l6ZSk7XHJcblxyXG4gICAgICAgICAgICBzaGlwc1N0YXR1c1R3by5hcHBlbmRDaGlsZChzaGlwU3RhdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBpZihlLnRhcmdldC5jbGFzc05hbWUgPT0gJ2dhbWVGaWVsZCcpe1xyXG4gICAgICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSBcIlwiO1xyXG4gICAgICAgIGUudGFyZ2V0LmFwcGVuZENoaWxkKGRyYWdnZWQpO1xyXG5cclxuICAgICAgICBsZXQgc2hpcElzR29vZFNpemUgPSBmYWxzZTtcclxuICAgICAgICBsZXQgcmVzdWx0UG9zaXRpb24gPSBlLnRhcmdldC5kYXRhc2V0LnJvdyArIGUudGFyZ2V0LmRhdGFzZXQuY29sdW1uO1xyXG4gICAgICAgIGxldCBzdHJpbmdUb0ludCA9IE51bWJlcihyZXN1bHRQb3NpdGlvbik7XHJcbiAgICBcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcmVzdWx0UG9zaXRpb24uc3BsaXQoJycpLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYocmVzdWx0UG9zaXRpb24uc3BsaXQoJycpWzBdID09IDApe1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0UG9zaXRpb24gPSByZXN1bHRQb3NpdGlvbi5zcGxpdCgnJylbMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ICAgXHJcblxyXG4gICAgICAgIGNvbnN0IG5hbWVTaGlwID0gZS50YXJnZXQuZmlyc3RDaGlsZC5jbGFzc05hbWUuc3BsaXQoJyAnKVsxXTtcclxuICAgICAgICBsZXQgbGVuZ3RoU2hpcDtcclxuICAgICAgICBsZXQgaW5kZXhPYmo7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHNoaXBOYW1lQW5kU2l6ZS5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgIGlmKHNoaXBOYW1lQW5kU2l6ZVtqXS5uYW1lID09IG5hbWVTaGlwKXtcclxuICAgICAgICAgICAgICAgIGxlbmd0aFNoaXAgPSBzaGlwTmFtZUFuZFNpemVbal0uc2l6ZTtcclxuICAgICAgICAgICAgICAgIGluZGV4T2JqID0galxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZpcnN0UG9zaXRpb24gPSBzdHJpbmdUb0ludDtcclxuICAgICAgICBjb25zdCBsYXN0U2hpcFBvc2l0aW9uID0gc3RyaW5nVG9JbnQgKyBsZW5ndGhTaGlwIC0gMTtcclxuICAgICAgICBjb25zdCBzaGlwQXJyUG9zaXRpb24gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yKGxldCB4ID0gZmlyc3RQb3NpdGlvbjsgeCA8PSBsYXN0U2hpcFBvc2l0aW9uOyB4Kyspe1xyXG4gICAgICAgICAgICBzaGlwQXJyUG9zaXRpb24ucHVzaCh4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNyZWF0ZVNoaXAoc2hpcE5hbWVBbmRTaXplKTtcclxuXHJcbiAgICAgICAgaWYoIWlzVHJ1ZShnYW1lRmllbGRzQXJyLCBmaXJzdFBvc2l0aW9uLCBsYXN0U2hpcFBvc2l0aW9uLCBzaGlwSXNHb29kU2l6ZSwgaW5kZXhPYmosIHNoaXBOYW1lQW5kU2l6ZSkpe1xyXG4gICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJcIjtcclxuICAgICAgICAgICAgZHJhZ2dlZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRyYWdnZWQpO1xyXG4gICAgICAgICAgICBzaGlwTmFtZUFuZFNpemVbaW5kZXhPYmpdLmxhbmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY3JlYXRlU2hpcChzaGlwTmFtZUFuZFNpemUpO1xyXG4gICAgICAgICAgICBnYW1lQm9hcmRGaWVsZHMoZ2FtZUZpZWxkc0Fycik7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmQgPSBcIlwiO1xyXG4gICAgICAgICAgICBlLnRhcmdldC5hcHBlbmRDaGlsZChkcmFnZ2VkKTtcclxuICAgICAgICAgICAgZHJhZ2dlZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRyYWdnZWQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYWRkWUluQXJyKGdhbWVGaWVsZHNBcnIsIGZpcnN0UG9zaXRpb24sIGxlbmd0aFNoaXAsIGluZGV4T2JqLCBsYXN0U2hpcFBvc2l0aW9uLCBzaGlwTmFtZUFuZFNpemUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjcmVhdGVTaGlwKHNoaXBOYW1lQW5kU2l6ZSk7ICBcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpc1Bvc2l0aW9uVHJ1ZSA9IChzaGlwTmFtZUFuZFNpemUpID0+IHtcclxuICAgICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzaGlwTmFtZUFuZFNpemUubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZihzaGlwTmFtZUFuZFNpemVbaV0ucG9zaXRpb24ubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGNvdW50ID09IDUpe1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2FtZUJvYXJkRmllbGRzKGdhbWVGaWVsZHNBcnIpO1xyXG5cclxuICAgIGlmKGlzUG9zaXRpb25UcnVlKHNoaXBOYW1lQW5kU2l6ZSkpe1xyXG4gICAgICAgIHN0YXJ0R2FtZSgpO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbn0sIGZhbHNlKTtcclxuXHJcbmNvbnN0IHN0YXJ0R2FtZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHNoaXBzQ2xhc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2hpcHMnKTtcclxuICAgIHNoaXBzQ2xhc3MucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzaGlwc0NsYXNzKTtcclxuXHJcbiAgICBjb25zdCBjb21wdXRlckdhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbXB1dGVyR2FtZS5jbGFzc0xpc3QuYWRkKCdjb21wdXRlckdhbWVCb2FyZCcpO1xyXG5cclxuICAgIGNvbnN0IGdhbWVIVE1MID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWVCb2FyZENvbXB1dGVyJyk7XHJcbiAgICBnYW1lSFRNTC5hcHBlbmRDaGlsZChjb21wdXRlckdhbWUpO1xyXG5cclxuICAgIGNvbXB1dGVyR2FtZUJvYXJkRmllbGQoY29wcHlDb21wdXRlckFycik7XHJcblxyXG4gICAgY29uc3QgZ2FtZWJvYXJkTWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21wdXRlckdhbWVCb2FyZCcpO1xyXG4gICAgY29uc3QgdGVzdEdhbWVCb2FyZCA9IFsuLi5nYW1lYm9hcmRNYWluLmNoaWxkTm9kZXNdO1xyXG5cclxuICAgIHNoaXBTdGF0dXNUd28oc2hpcE5hbWVBbmRTaXplKTtcclxuICAgIHNoaXBTdGF0dXNDb21wdXRlcihzaGlwTmFtZUFuZFNpemVDb21wdXRlcik7XHJcblxyXG4gICAgdGVzdEdhbWVCb2FyZC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4geyAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BsYXlzJykpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzTGVuZ2h0VG9aZXJvID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBOdW1iZXIoU3RyaW5nKGUudGFyZ2V0LmRhdGFzZXQucm93KSArIFN0cmluZyhlLnRhcmdldC5kYXRhc2V0LmNvbHVtbikpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzaGlwTmFtZUFuZFNpemVDb21wdXRlci5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyW2ldLnBvc2l0aW9uLmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2hpcE5hbWVBbmRTaXplQ29tcHV0ZXJbaV0ucG9zaXRpb25bal0gPT0gaW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpcE5hbWVBbmRTaXplQ29tcHV0ZXJbaV0ucG9zaXRpb24uc3BsaWNlKGosIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2ZpZWxkJyk7XHJcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdwbGF5cycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvcihsZXQgbyA9IDA7IG8gPCBzaGlwTmFtZUFuZFNpemVDb21wdXRlci5sZW5ndGg7IG8rKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoc2hpcE5hbWVBbmRTaXplQ29tcHV0ZXJbb10ucG9zaXRpb24ubGVuZ3RoID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0xlbmdodFRvWmVyby5wdXNoKCd0cnVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmKGlzTGVuZ2h0VG9aZXJvLmxlbmd0aCA9PSA1KXtcclxuICAgICAgICAgICAgICAgICAgICB3aW5uZXJQYWdlKCd5b3UsIFtwbGF5ZXJdJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbXB1dGVyUmFuZG9tUGxheXMoKTtcclxuXHJcbiAgICAgICAgICAgIHNoaXBTdGF0dXNUd28oc2hpcE5hbWVBbmRTaXplKTtcclxuICAgICAgICAgICAgc2hpcFN0YXR1c0NvbXB1dGVyKHNoaXBOYW1lQW5kU2l6ZUNvbXB1dGVyKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgY29tcHV0ZXJSYW5kb21QbGF5cyA9ICgpID0+IHtcclxuICAgIGZvcihsZXQgZiA9IDA7IGYgPCAxMDAwOyBmKyspe1xyXG4gICAgICAgIGNvbnN0IHJhbmRvbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDk5KTtcclxuICAgICAgICBsZXQgcm93O1xyXG4gICAgICAgIGxldCBjb2x1bW47XHJcblxyXG4gICAgICAgIGlmKGNvbXB1dGVyUGxheXNSYW5kb20uZmluZEluZGV4KGl0ZW0gPT4gaXRlbSA9PSByYW5kb21OdW1iZXIpID4gLTEpe1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBjb21wdXRlclBsYXlzUmFuZG9tLmZpbmRJbmRleChpdGVtID0+IGl0ZW0gPT0gcmFuZG9tTnVtYmVyKTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZihyYW5kb21OdW1iZXIudG9TdHJpbmcoKS5zcGxpdCgnJykubGVuZ3RoID09IDEpe1xyXG4gICAgICAgICAgICAgICAgcm93ID0gMDtcclxuICAgICAgICAgICAgICAgIGNvbHVtbiA9IE51bWJlcihyYW5kb21OdW1iZXIudG9TdHJpbmcoKS5zcGxpdCgnJylbMF0pO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJvdyA9IE51bWJlcihyYW5kb21OdW1iZXIudG9TdHJpbmcoKS5zcGxpdCgnJylbMF0pO1xyXG4gICAgICAgICAgICAgICAgY29sdW1uID0gTnVtYmVyKHJhbmRvbU51bWJlci50b1N0cmluZygpLnNwbGl0KCcnKVsxXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCByZW1vdmVkSXRlbSA9IGNvbXB1dGVyUGxheXNSYW5kb20uc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHJlbW92ZWRJdGVtKXtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzaGlwTmFtZUFuZFNpemUubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBzaGlwTmFtZUFuZFNpemVbaV0ucG9zaXRpb24ubGVuZ3RoOyBqKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihzaGlwTmFtZUFuZFNpemVbaV0ucG9zaXRpb25bal0gPT0gcmVtb3ZlZEl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzTGVuZ2h0VG9aZXJvID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGlwTmFtZUFuZFNpemVbaV0ucG9zaXRpb24uc3BsaWNlKGosIDEpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IG8gPSAwOyBvIDwgc2hpcE5hbWVBbmRTaXplLmxlbmd0aDsgbysrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzaGlwTmFtZUFuZFNpemVbb10ucG9zaXRpb24ubGVuZ3RoID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0xlbmdodFRvWmVyby5wdXNoKCd0cnVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzTGVuZ2h0VG9aZXJvLmxlbmd0aCA9PSA1KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5uZXJQYWdlKCdjb21wdXRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwb3NpdGlvbkxlbmd0aEFyciA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvcihsZXQgYiA9IDA7IGIgPCBzaGlwTmFtZUFuZFNpemUubGVuZ3RoOyBiKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgYyA9IDA7IGMgPCBzaGlwTmFtZUFuZFNpemVbYl0ucG9zaXRpb24ubGVuZ3RoOyBjKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkxlbmd0aEFyci5wdXNoKHNoaXBOYW1lQW5kU2l6ZVtiXS5wb3NpdGlvbltjXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdZb3Ugbm90IGJsb3cnLCBjb21wdXRlclBsYXlzUmFuZG9tLmxlbmd0aCwgcG9zaXRpb25MZW5ndGhBcnIubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHdpbm5lclBhZ2UgPSAod2lubmVyKSA9PiB7XHJcbiAgICBjb25zdCBnYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUnKTtcclxuICAgIFxyXG4gICAgY29uc3QgZml4ZWRXaW5uZXJQYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBmaXhlZFdpbm5lclBhZ2UuY2xhc3NMaXN0LmFkZCgnZml4ZWRXaW5uZXJQYWdlJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IGgxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKTtcclxuICAgIGgxLnRleHRDb250ZW50ID0gYFRoZSB3aW5uZXIgaXMgWyR7d2lubmVyfV1gO1xyXG5cclxuICAgIGZpeGVkV2lubmVyUGFnZS5hcHBlbmRDaGlsZChoMSk7XHJcblxyXG4gICAgZ2FtZS5hcHBlbmRDaGlsZChmaXhlZFdpbm5lclBhZ2UpO1xyXG59IiwiY29uc3QgaXNUcnVlID0gKGdhbWVGaWVsZHNBcnIsIGZpcnN0UG9zaXRpb24sIGxhc3RTaGlwUG9zaXRpb24sIHNoaXBJc0dvb2RTaXplLCBpbmRleE9iaiwgc2hpcE5hbWVBbmRTaXplKSA9PiB7XHJcbiAgICBmb3IobGV0IG4gPSAwOyBuIDwgZ2FtZUZpZWxkc0Fyci5sZW5ndGg7IG4rKyl7XHJcbiAgICAgICAgaWYoZ2FtZUZpZWxkc0FycltuXS5pbmNsdWRlcyhmaXJzdFBvc2l0aW9uKSl7XHJcbiAgICAgICAgICAgIGlmKGdhbWVGaWVsZHNBcnJbbl0uaW5jbHVkZXMobGFzdFNoaXBQb3NpdGlvbikpe1xyXG4gICAgICAgICAgICAgICAgc2hpcElzR29vZFNpemUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2hpcE5hbWVBbmRTaXplW2luZGV4T2JqXS5sYW5kID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hpcElzR29vZFNpemU7XHJcbiAgICAgICAgICAgIH07IFxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gc2hpcElzR29vZFNpemUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGlzVHJ1ZTsiLCJjb25zdCBhZGRZSW5BcnIgPSAoZ2FtZUZpZWxkc0FyciwgZmlyc3RQb3NpdGlvbiwgbGVuZ3RoU2hpcCwgaW5kZXhPYmosIGxhc3RTaGlwUG9zaXRpb24sIHNoaXBOYW1lQW5kU2l6ZSkgPT4ge1xyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGdhbWVGaWVsZHNBcnIubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBnYW1lRmllbGRzQXJyW2ldLmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgaWYoZ2FtZUZpZWxkc0FycltpXVtqXSA9PSBmaXJzdFBvc2l0aW9uKXtcclxuICAgICAgICAgICAgICAgIGlmKGdhbWVGaWVsZHNBcnJbaV1bal0gPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBrID0gMDsgayA8IGxlbmd0aFNoaXA7IGsrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaXBOYW1lQW5kU2l6ZVtpbmRleE9ial0ucG9zaXRpb24ucHVzaChnYW1lRmllbGRzQXJyW2ldW2ogKyBrXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVGaWVsZHNBcnJbaV1baiArIGtdID0gJ3gnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBnYW1lRmllbGRzQXJyW2kgKyAxXVtqXSA9ICd5JztcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHAgPSAwOyBwIDwgbGVuZ3RoU2hpcDsgcCsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUZpZWxkc0FycltpICsgMV1baiArIHBdID0gJ3knO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBnYW1lRmllbGRzQXJyW2ldW2ogKyBsZW5ndGhTaGlwXSA9ICd5JztcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKGdhbWVGaWVsZHNBcnJbaV1bal0gPT0gZ2FtZUZpZWxkc0FyclswXVtqXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBrID0gMDsgayA8IGxlbmd0aFNoaXA7IGsrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaXBOYW1lQW5kU2l6ZVtpbmRleE9ial0ucG9zaXRpb24ucHVzaChnYW1lRmllbGRzQXJyW2ldW2ogKyBrXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVGaWVsZHNBcnJbaV1baiArIGtdID0gJ3gnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBnYW1lRmllbGRzQXJyW2kgKyAxXVtqXSA9ICd5JztcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHAgPSAwOyBwIDwgbGVuZ3RoU2hpcDsgcCsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUZpZWxkc0FycltpICsgMV1baiArIHBdID0gJ3knO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBnYW1lRmllbGRzQXJyW2ldW2ZpcnN0UG9zaXRpb24gLSAxXSA9ICd5JztcclxuICAgICAgICAgICAgICAgICAgICBnYW1lRmllbGRzQXJyW2ldW2xhc3RTaGlwUG9zaXRpb24gKyAxXSA9ICd5JztcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKGdhbWVGaWVsZHNBcnJbaV1bal0gPT0gZ2FtZUZpZWxkc0Fycls5XVtqXSAmJiBqICE9IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgayA9IDA7IGsgPCBsZW5ndGhTaGlwOyBrKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlwTmFtZUFuZFNpemVbaW5kZXhPYmpdLnBvc2l0aW9uLnB1c2goZ2FtZUZpZWxkc0FycltpXVtqICsga10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lRmllbGRzQXJyW2ldW2ogKyBrXSA9ICd4JztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBwID0gMDsgcCA8IGxlbmd0aFNoaXA7IHArKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVGaWVsZHNBcnJbaSAtIDFdW2ogKyBwXSA9ICd5JztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZUZpZWxkc0FycltpXVtsZW5ndGhTaGlwICsgal0gPSAneSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZUZpZWxkc0FycltpXVtqIC0gMV0gPSAneSc7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihnYW1lRmllbGRzQXJyW2ldW2pdID09IGdhbWVGaWVsZHNBcnJbOV1bal0pe1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgayA9IDA7IGsgPCBsZW5ndGhTaGlwOyBrKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlwTmFtZUFuZFNpemVbaW5kZXhPYmpdLnBvc2l0aW9uLnB1c2goZ2FtZUZpZWxkc0FycltpXVtqICsga10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lRmllbGRzQXJyW2ldW2ogKyBrXSA9ICd4JztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBwID0gMDsgcCA8IGxlbmd0aFNoaXA7IHArKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVGaWVsZHNBcnJbaSAtIDFdW2ogKyBwXSA9ICd5JztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZUZpZWxkc0FycltpXVtsZW5ndGhTaGlwXSA9ICd5JztcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgayA9IDA7IGsgPCBsZW5ndGhTaGlwOyBrKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlwTmFtZUFuZFNpemVbaW5kZXhPYmpdLnBvc2l0aW9uLnB1c2goZ2FtZUZpZWxkc0FycltpXVtqICsga10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lRmllbGRzQXJyW2ldW2ogKyBrXSA9ICd4JztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZUZpZWxkc0FycltpICsgMV1bal0gPSAneSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZUZpZWxkc0FycltpIC0gMV1bal0gPSAneSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZUZpZWxkc0FycltpXVtqIC0gMV0gPSAneSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZUZpZWxkc0FycltpXVtqICsgbGVuZ3RoU2hpcF0gPSAneSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBwID0gMDsgcCA8IGxlbmd0aFNoaXA7IHArKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVGaWVsZHNBcnJbaSArIDFdW2ogKyBwXSA9ICd5JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUZpZWxkc0FycltpIC0gMV1baiArIHBdID0gJ3knO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWRkWUluQXJyOyIsImNvbnN0IGNvbXB1dGVyR2FtZUJvYXJkRmllbGQgPSAoY29tcHV0ZXJBcnIpID0+IHtcclxuICAgIFxyXG4gICAgY29uc3QgY29tcHV0ZXJHYW1lYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tcHV0ZXJHYW1lQm9hcmQnKTtcclxuICAgIGNvbXB1dGVyR2FtZWJvYXJkLnRleHRDb250ZW50ID0gJyc7XHJcblxyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IDEwOyBpKyspe1xyXG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCAxMDsgaisrKXtcclxuICAgICAgICAgICAgaWYoY29tcHV0ZXJBcnJbaV1bal0gPT0gJ1gnKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZUZpZWxkLmNsYXNzTGlzdC5hZGQoJ3BsYXlzJyk7XHJcbiAgICAgICAgICAgICAgICBnYW1lRmllbGQuZGF0YXNldC5yb3cgPSBpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZUZpZWxkLmRhdGFzZXQuY29sdW1uID0gajtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQuYXBwZW5kQ2hpbGQoZ2FtZUZpZWxkKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYoY29tcHV0ZXJBcnJbaV1bal0gPT0gJ1knKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZUZpZWxkLmNsYXNzTGlzdC5hZGQoJ2Jsb2NrZWQnKTtcclxuICAgICAgICAgICAgICAgIGdhbWVGaWVsZC5kYXRhc2V0LnJvdyA9IGk7XHJcbiAgICAgICAgICAgICAgICBnYW1lRmllbGQuZGF0YXNldC5jb2x1bW4gPSBqO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb21wdXRlckdhbWVib2FyZC5hcHBlbmRDaGlsZChnYW1lRmllbGQpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZUZpZWxkLmNsYXNzTGlzdC5hZGQoJ2ZpZWxkJyk7XHJcbiAgICAgICAgICAgICAgICBnYW1lRmllbGQuZGF0YXNldC5yb3cgPSBpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZUZpZWxkLmRhdGFzZXQuY29sdW1uID0gajtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29tcHV0ZXJHYW1lYm9hcmQuYXBwZW5kQ2hpbGQoZ2FtZUZpZWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29tcHV0ZXJHYW1lQm9hcmRGaWVsZDsiXSwibmFtZXMiOlsiZ2FtZUZpZWxkc0FyciIsImdhbWVCb2FyZENsYXNzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJpIiwiaiIsImdhbWVGaWVsZCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkYXRhc2V0Iiwicm93IiwiY29sdW1uIiwiYXBwZW5kQ2hpbGQiLCJzaGlwTmFtZUFuZFNpemUiLCJzaGlwc0NsYXNzIiwibGVuZ3RoIiwibGFuZCIsInNoaXAiLCJpZCIsIm5hbWUiLCJzdHlsZSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJzaXplIiwid2lkdGgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJkcmFnZ2FibGUiLCJzcXVhcmUiLCJhZGRDb3VudEluVGVuQXJyIiwiYXJyIiwiY291bnQiLCJuZXdBcnIiLCJwdXNoIiwicG9zaXRpb24iLCJzaGlwTmFtZUFuZFNpemVDb21wdXRlciIsImNvbXB1dGVyUGxheXNSYW5kb20iLCJhZGRIdW5kcmVkTnVtYmVycyIsInRydWVPckZhbHNlIiwiaXRlbSIsIm5vdFkiLCJjb21wdXRlckFyciIsImNvdW50QXJyIiwiYiIsIngiLCJldmVyeSIsIm8iLCJmaWx0ZXIiLCJjb25zb2xlIiwibG9nIiwidmFsdWUiLCJudW0iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsIk51bWJlciIsInNwbGl0IiwiZmluZEluZGV4Q29tcHV0ZXIiLCJmaW5kSW5kZXgiLCJxIiwiZSIsImMiLCJjb21wdXRlciIsImNvcHB5Q29tcHV0ZXJBcnIiLCJkcmFnZ2VkIiwiY291bnRDb21wdXRlckNvcHB5IiwiaCIsImNvbXB1dGVyQXJyVHdvIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsIm9wYWNpdHkiLCJmaXJzdENoaWxkIiwicHJldmVudERlZmF1bHQiLCJjbGFzc05hbWUiLCJiYWNrZ3JvdW5kIiwic2hpcFN0YXR1c1R3byIsIm9iaiIsInNoaXBzU3RhdHVzIiwic2hpcFN0YXQiLCJzaGlwTmFtZSIsInNoaXBTaXplIiwic2hpcFN0YXR1c0NvbXB1dGVyIiwic2hpcHNTdGF0dXNUd28iLCJyZXN1bHRQb3NpdGlvbiIsInN0cmluZ1RvSW50IiwibmFtZVNoaXAiLCJsZW5ndGhTaGlwIiwiaW5kZXhPYmoiLCJmaXJzdFBvc2l0aW9uIiwibGFzdFNoaXBQb3NpdGlvbiIsInNoaXBBcnJQb3NpdGlvbiIsInNoaXBJc0dvb2RTaXplIiwibiIsImluY2x1ZGVzIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiayIsInAiLCJpc1Bvc2l0aW9uVHJ1ZSIsInN0YXJ0R2FtZSIsImNvbXB1dGVyR2FtZSIsImNvbXB1dGVyR2FtZWJvYXJkIiwidGVzdEdhbWVCb2FyZCIsImNoaWxkTm9kZXMiLCJmb3JFYWNoIiwiY29udGFpbnMiLCJpc0xlbmdodFRvWmVybyIsImluZGV4IiwiU3RyaW5nIiwic3BsaWNlIiwicmVtb3ZlIiwid2lubmVyUGFnZSIsImNvbXB1dGVyUmFuZG9tUGxheXMiLCJmIiwicmFuZG9tTnVtYmVyIiwicmVtb3ZlZEl0ZW0iLCJwb3NpdGlvbkxlbmd0aEFyciIsIndpbm5lciIsImdhbWUiLCJmaXhlZFdpbm5lclBhZ2UiLCJoMSJdLCJzb3VyY2VSb290IjoiIn0=